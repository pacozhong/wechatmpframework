<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <title></title>  
  <link rel="stylesheet" href="https://d10ajoocuyu32n.cloudfront.net/mobile/1.3.1/jquery.mobile-1.3.1.min.css">
  
  <!-- Extra Codiqa features -->
  <link rel="stylesheet" href="codiqa.ext.css">
  
  <!-- jQuery and jQuery Mobile -->
  <script src="https://d10ajoocuyu32n.cloudfront.net/jquery-1.9.1.min.js"></script>
  <script src="https://d10ajoocuyu32n.cloudfront.net/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>

  <!-- Extra Codiqa features -->
  <script src="https://d10ajoocuyu32n.cloudfront.net/codiqa.ext.js"></script>
  <script>
 var dataForWeixin={
   appId:"wx5dcde27cde9b0e52",
   MsgImg:"http://img10.360buyimg.com/n2/g14/M09/0D/06/rBEhV1IdvXUIAAAAAAJ4r20GBMYAAClLgGr0tEAAnjH605.jpg",
   TLImg:"http://img10.360buyimg.com/n2/g14/M09/0D/06/rBEhV1IdvXUIAAAAAAJ4r20GBMYAAClLgGr0tEAAnjH605.jpg",
   url:"http://gate.jd.com/InitCart.aspx?pid=11310550&pcount=1&ptype=1",
   title:"微信公众平台开发实践(2)",
   desc:"微信公众平台开发实践2",
   fakeid:"",
   callback:function(){}
};
(function(){
   var onBridgeReady=function(){  
   WeixinJSBridge.on('menu:share:appmessage', function(argv){
      WeixinJSBridge.invoke('sendAppMessage',{    // 发送给好友  
         "appid":dataForWeixin.appId,
         "img_url":dataForWeixin.MsgImg,
         "img_width":"120",
         "img_height":"120",
         "link":dataForWeixin.url,
         "desc":dataForWeixin.desc,
         "title":dataForWeixin.title
      }, function(res){(dataForWeixin.callback)();});
   });
     WeixinJSBridge.on('menu:share:timeline', function(argv){   // 分享到朋友圈 
      (dataForWeixin.callback)();
      WeixinJSBridge.invoke('shareTimeline',{
         "img_url":dataForWeixin.TLImg,
         "img_width":"120",
         "img_height":"120",
         "link":dataForWeixin.url,
         "desc":dataForWeixin.desc,
         "title":dataForWeixin.title
      }, function(res){});
   });
   WeixinJSBridge.on('menu:share:weibo', function(argv){// 分享到微博 
      WeixinJSBridge.invoke('shareWeibo',{
         "content":dataForWeixin.title,
         "url":dataForWeixin.url
      }, function(res){(dataForWeixin.callback)();});
   });
   WeixinJSBridge.on('menu:share:facebook', function(argv){
      (dataForWeixin.callback)();
     	WeixinJSBridge.invoke('shareFB',{ //分享到facebook
         "img_url":dataForWeixin.TLImg,
         "img_width":"120",
         "img_height":"120",
         "link":dataForWeixin.url,
         "desc":dataForWeixin.desc,
         "title":dataForWeixin.title
      }, function(res){});
   });
};
if(document.addEventListener){
   document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
}else if(document.attachEvent){
   document.attachEvent('WeixinJSBridgeReady'   , onBridgeReady);
   document.attachEvent('onWeixinJSBridgeReady' , onBridgeReady);
}
})();
    
      function hideRightTopMenu(){        	
      		WeixinJSBridge.call('hideOptionMenu');  //隐藏右上角
      }
    
      function showRightTopMenu(){        	
      		WeixinJSBridge.call('showOptionMenu');  //显示右上角
      }
    	
      function hidenToolBar(){
            WeixinJSBridge.call('hideToolbar');  //隐藏工具栏
      }
    
      function showToolBar(){
            WeixinJSBridge.call('showToolbar');  //显示工具栏
      }
    	
      function jubdgeNewEnv(){
      	 WeixinJSBridge.invoke('getNetworkType',{},   //判断net env
				function(e){
	    			WeixinJSBridge.log(e.err_msg);
                    alert(e.err_msg.split(":")[1]);
	    		}
        );
      }
    
  </script>

</head>
<body>
  <div data-role="page" id="page1">
    <div data-role="content">
 		 <ul data-role="listview" data-divider-theme="b" data-inset="true">
      		  <li data-theme="d"><a href="javascript:void(0);" onclick="hideRightTopMenu();">隐藏右上角菜单</a></li>
      	 </ul>	
      	 <ul data-role="listview" data-divider-theme="b" data-inset="true">
           	  <li data-theme="d"><a href="javascript:void(0);" onclick="showRightTopMenu();">显示右上角菜单</a></li>
      	 </ul>
  		 <ul data-role="listview" data-divider-theme="b" data-inset="true">
           	  <li data-theme="d"><a href="javascript:void(0);" onclick="hidenToolBar();">隐藏工具栏</a></li>
      	 </ul>
  		 <ul data-role="listview" data-divider-theme="b" data-inset="true">
           	  <li data-theme="d"><a href="javascript:void(0);" onclick="showToolBar();">显示工具栏</a></li>
      	 </ul>
  		 <ul data-role="listview" data-divider-theme="b" data-inset="true">
           	  <li data-theme="d"><a href="javascript:void(0);" onclick="jubdgeNewEnv();">查看当前网络情况</a></li>
      	 </ul>
    </div>
  </div>
</body>
</html>
